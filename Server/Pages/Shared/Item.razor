
<div class="card" style="width: 18rem;">
  <img src="@Img" class="card-img-top" alt="@Title">
  <div class="card-body">
    <h5 class="card-title">@Title</h5>
    <p class="card-text">@Description</p>
    if(ExpirationDate != null)
    {
        <p>@Price.ToString("c")</p>
        <a href="#" class="btn btn-primary">Order</a>
    }
  </div>
</div>

@code {
    [Parameter]
    public string Img { get; set; }
    [Parameter]
    public string Title { get; set; }
    [Parameter]
    public string Description { get; set; }
    [Parameter]
    public string Url { get; set; }
    public decimal Price { get; set; }
    [Parameter]
    public decimal? RetailPrice { get; set; }
    [Parameter]
    public bool? Percentage { get; set; }
    [Parameter]
    public decimal? AidAmount { get; set; }
    [Parameter]
    public DateTime? ExpirationDate { get; set; }

    protected override Task OnParametersSetAsync()
    {
        if(ExpirationDate != null)
        {
            if (Percentage.Value)
            {
                Price = RetailPrice.Value - (RetailPrice.Value * (AidAmount.Value / 100));
            }
            else
            {
                Price = RetailPrice.Value - AidAmount.Value;
            }
        }
        return base.OnParametersSetAsync();
    }
}
